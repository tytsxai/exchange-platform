# Common (all services)
# dev | staging | prod
APP_ENV=dev

# Internal service-to-service auth (required)
INTERNAL_TOKEN=dev-internal-token-change-me

# JWT/Auth (required for user/admin/wallet)
AUTH_TOKEN_SECRET=dev-auth-token-secret-32-bytes-minimum
AUTH_TOKEN_TTL=24h

# API Key secret encryption (required for user service)
# Used to encrypt/decrypt API Key secret at rest; must be >= 32 chars.
API_KEY_SECRET_KEY=dev-api-key-secret-32-bytes-minimum

# Admin APIs (required for admin/wallet)
ADMIN_TOKEN=dev-admin-token-change-me

# Database (dev defaults exist, but production requires explicit + TLS)
DB_HOST=localhost
DB_PORT=5436
DB_USER=exchange
DB_PASSWORD=exchange123
DB_NAME=exchange
DB_SSL_MODE=disable

# Redis
REDIS_ADDR=localhost:6380
REDIS_PASSWORD=

# Gateway
# NOTE: Do not set shared `HTTP_PORT` when starting all services together,
# because each service uses its own default port (8080/8081/â€¦).
# If you run a single service and want to override its port, set `HTTP_PORT`
# (and for gateway WebSocket, `WS_PORT`) in that service's shell only.
# Production should be an explicit allowlist (no "*")
CORS_ALLOW_ORIGINS=*
# Trusted proxy CIDRs for X-Forwarded-For (comma-separated).
# If set, only these CIDRs are trusted as proxies; otherwise private/loopback are trusted by default.
TRUSTED_PROXY_CIDRS=
# Production should disable docs unless you explicitly want public docs
ENABLE_DOCS=true
# Non-dev guardrail: if you really need docs in staging/prod, set this explicitly.
ALLOW_DOCS_IN_NONDEV=false

# Optional: protect /metrics endpoints with a shared token.
# If set, requests must include either:
# - `Authorization: Bearer <value>` (recommended, Prometheus-friendly), or
# - `X-Metrics-Token: <value>`
METRICS_TOKEN=

# Wallet (high-risk MVP scanner; production requires explicit override)
DEPOSIT_SCANNER_ENABLED=false
ALLOW_MVP_DEPOSIT_SCANNER=false

# Matching (order deduplication TTL)
MATCHING_ORDER_DEDUP_TTL=24h
