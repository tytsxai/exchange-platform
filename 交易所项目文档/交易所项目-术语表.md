---
title: 交易所项目-术语表
topic: 项目文档/交易所
tags:
  - 交易所
  - 术语
  - 规范
summary: >
  交易所项目统一术语与口径：订单/成交/账本/余额/清算/行情等关键概念的定义、同义词与边界，避免跨模块理解偏差。
created: 2025-12-21
updated: 2025-12-21
stage: draft
visibility: internal
owner: me
ai_include: true
source: ""
---

# 交易所项目-术语表

> 目标：让文档、代码、接口与运营后台“用同一套词”，减少歧义与返工。若某个词在不同系统/团队有不同叫法，请在本表统一约定，并在 ADR/接口文档中引用。

## 1 核心概念（交易）
- **Symbol（交易对/合约）**：撮合与行情的分片单位；默认以 `symbol` 作为撮合/行情事件的保序键。
- **Order（订单）**：用户意图的表达（买/卖、类型、数量、价格、TIF）。订单簿不依赖数据库，但订单“结果”（状态机与可追溯信息）必须可查询与可审计。
- **Order Book（订单簿）**：撮合引擎内部状态（买/卖队列）。属于高频内存态；需要定义恢复/重建策略（见架构与测试文档）。
- **Trade（成交）**：撮合引擎对一对订单匹配产生的结果记录（包含价格、数量、maker/taker、手续费等）。
- **Fill（成交回报/逐笔成交）**：对用户侧的成交明细回报（通常是 Trade 的子集或视图）。

## 2 核心概念（资金）
- **Ledger（账本）**：资金的唯一真相来源（source of truth）。任何资金变化都必须追加一条流水，禁止直接改余额不留痕。
- **LedgerEntry（账本流水）**：一次资金变化的不可变记录，必须具备幂等键（`idempotencyKey`）以抵抗重复投递/重试。
- **Balance（余额快照）**：资金读模型（可重建），通常包含 `available` 与 `frozen`；由清算写路径同步更新以提升查询性能。
- **Available（可用）**：可以立即用于下单/提现的余额。
- **Frozen（冻结）**：已预占但未最终结算的余额（如下单冻结、提现冻结）。
- **Settlement/Clearing（清算/结算）**：将撮合结果（Trade）转化为账本与余额变化的过程；本文档统一使用“清算（Clearing/Settlement）”表示该写路径。
- **Reconciliation（对账）**：验证账本聚合与余额快照一致、以及链上/第三方数据一致的作业；资金异常为 0 容忍。

## 3 核心概念（行情）
- **Market Data（行情）**：对外公共数据（盘口/逐笔/K 线/指数价/标记价）。行情允许短暂延迟，但必须可回补与可重建。
- **Snapshot（快照）**：在某一时刻的完整状态（例如订单簿前 N 档）。
- **Delta（增量）**：从上一个状态到下一个状态的变更集合（例如新增/更新/删除某档位）。
- **Seq（序列号）**：单调递增的序列，用于检测丢包与回补；常配合 `prevSeq` 校验 gap。

## 4 一致性与幂等
- **Idempotency（幂等）**：同一请求/事件执行多次，系统最终状态不变；资金链路必须强幂等。
- **Exactly-once（恰好一次）**：分布式环境很难保证；本项目默认采用“至少一次投递 + 幂等去重”达成资金正确性。
- **Outbox（事务外盒）**：通过同事务写库 + 写 outbox 表，再异步投递事件，保证“写入成功就一定能发出事件”（见 [ADR/ADR-007-事件总线与Outbox一致性.md](ADR/ADR-007-事件总线与Outbox一致性.md)）。

## 5 角色与系统边界
- **User（用户）**：交易与资金的主体；用户侧敏感操作必须有安全校验与审计。
- **Admin（后台操作员）**：运营/风控/财务/管理员等角色；高风险动作必须 RBAC + 审计，必要时双人复核。
