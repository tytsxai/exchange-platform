# Production example env.
#
# Copy to `deploy/prod/prod.env` and fill in your real values.
# Then run:
#   bash exchange-common/scripts/prod-preflight.sh
#   docker compose -f deploy/prod/docker-compose.yml --env-file deploy/prod/prod.env up -d --build

APP_ENV=prod

# Secrets (MUST NOT be placeholder values)
INTERNAL_TOKEN=
AUTH_TOKEN_SECRET=
ADMIN_TOKEN=

# Optional: lock down /metrics (Prometheus can use Authorization: Bearer <token>)
METRICS_TOKEN=

# Disable docs in prod by default
ENABLE_DOCS=false
ALLOW_DOCS_IN_NONDEV=false

# CORS: explicit allowlist (no "*")
CORS_ALLOW_ORIGINS=https://your-frontend.example.com

# Managed Postgres (TLS required by code for non-dev)
DB_HOST=
DB_PORT=5432
DB_USER=
DB_PASSWORD=
DB_NAME=exchange
DB_SSL_MODE=require

# Managed Redis (auth required by code for non-dev)
REDIS_ADDR=
REDIS_PASSWORD=

# Service URLs (internal network / compose service names)
ORDER_SERVICE_URL=http://order:8081
USER_SERVICE_URL=http://user:8085
MATCHING_SERVICE_URL=http://matching:8082
CLEARING_SERVICE_URL=http://clearing:8083
CLEARING_BASE_URL=http://clearing:8083
MARKETDATA_SERVICE_URL=http://marketdata:8084

# Streams (defaults are fine, but keep explicit for clarity)
ORDER_STREAM=exchange:orders
EVENT_STREAM=exchange:events

# Consumers (unique names per replica)
MATCHING_CONSUMER_GROUP=order-updater-group
MATCHING_CONSUMER_NAME=order-updater-1
CONSUMER_GROUP=matching-group
CONSUMER_NAME=matching-1

# Ports (optional; defaults are 8080/8081/â€¦)
# HTTP_PORT=8080
# WS_PORT=8090
